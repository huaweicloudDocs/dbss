# 步骤四：配置应用侧数据库<a name="ZH-CN_TOPIC_0187804991"></a>

为了确保受保护的数据库安全防护策略生效，您需要手动将业务侧应用连接的数据库的地址和端口，分别修改为登录HexaTier的数据库安全防护实例的浮动地址和创建受保护的数据库时设置的代理端口。

本章节以配置业务侧应用连接的MySQL数据库为例说明。

## 前提条件<a name="section41137495166"></a>

已获取数据库安全防护实例的浮动地址和创建受保护的数据库时设置的代理的端口信息。

## 操作步骤<a name="section151731291676"></a>

1.  [登录管理控制台](https://console.huaweicloud.com/)。
2.  进入获取数据库安全防护实例浮动地址入口，如[图1](#zh-cn_topic_0111166372_fig4989100164918)所示。

    **图 1**  进入获取数据库安全防护实例浮动地址入口<a name="zh-cn_topic_0111166372_fig4989100164918"></a>  
    ![](figures/进入获取数据库安全防护实例浮动地址入口.png "进入获取数据库安全防护实例浮动地址入口")

3.  登录HexaTier后，在HexaTier主菜单上，单击“资源“。
4.  在导航树上，单击“受保护数据库“，进入受保护数据库列表页面。
5.  在创建的受保护数据库所在行，获取代理端口，如[图2](#fig11319142553914)所示。

    **图 2**  代理端口<a name="fig11319142553914"></a>  
    ![](figures/代理端口.png "代理端口")

6.  登录数据库后，将业务侧应用连接的数据库的地址和端口，分别修改为实例的浮动地址和受保护数据库的代理端口。

    配置示例如下：

    ```
    var knex = require('knex')({
     client: 'mysql',
     connection: {
     host: '实例的浮动地址',
     port: '代理端口',
     user: 'xxxx',
     password: 'xxxxxx',
     database: 'xxxxxx',
     charset: 'utf8'
     },
     // debug: true
     });
    ```

7.  输入**Exit**，退出数据库。

